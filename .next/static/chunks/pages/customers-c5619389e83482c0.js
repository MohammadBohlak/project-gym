(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{5169:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers",function(){return s(969)}])},969:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x},url:function(){return h}});var a=s(4246),n=s(4546),l=s(2556),c=s(7378),r=s(4285),o=s(213),u=s(7833),i=s(1249),d=s(8436),m=s(6677);let h="https://project-gym-chi.vercel.app";function x(){let e=(0,m.useRouter)(),[t,s]=(0,c.useState)(""),[x,p]=(0,c.useState)([]),[f,j]=(0,c.useState)(""),g=()=>{u.Z.get("".concat(h,"/api/customers")).then(e=>{p(e.data)})};(0,c.useEffect)(()=>{g()},[]);let N=e=>{let t=()=>{(0,d.V)({message:"Do you want to delete this record?",header:"Delete Confirmation",defaultFocus:"reject",acceptClassName:"p-button-danger",accept:()=>{v(e._id)},reject:()=>{}})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.z,{className:"bg-red-800 border-none outline-none",onClick:t,label:"حذف"})})},w=new Date("2024-10-4");console.log(w.getDate()),console.log(w.getMonth()+1),console.log(w.getFullYear());let b=x.filter(e=>e.name.includes(f));console.log(b);let _=(0,c.useRef)(null),v=e=>{console.log("accept",e),u.Z.delete("".concat(h,"/api/customers/").concat(e)).then(()=>{g()})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.F,{ref:_}),(0,a.jsx)(d.Q,{}),(0,a.jsx)(l.z,{className:"mb-5",type:"button",label:"اضافة زبون",onClick:()=>{e.push("/customers/add-customer")}}),(0,a.jsx)("div",{className:"p-inputgroup flex-1 mb-2",children:(0,a.jsx)(n.o,{placeholder:"بحث",value:f,onChange:e=>{j(e.target.value)}})}),""!=f&&(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)(r.w,{className:"text-primary",value:b,showGridlines:!0,tableStyle:{width:"100%",marginBottom:"10px"},children:[(0,a.jsx)(o.s,{className:"text-primary text-center",field:"name",header:"الاسم"}),(0,a.jsx)(o.s,{className:"text-primary text-center",field:"date",header:"تاريخ التسجيل"})]})}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)(r.w,{value:x,showGridlines:!0,tableStyle:{width:"100%"},children:[(0,a.jsx)(o.s,{className:"text-center",field:"name",header:"الاسم"}),(0,a.jsx)(o.s,{className:"text-center",field:"date",header:"تاريخ التسجيل"}),(0,a.jsx)(o.s,{className:"text-center",body:N,header:"تاريخ التسجيل"})]})})]})}}},function(e){e.O(0,[250,338,774,888,179],function(){return e(e.s=5169)}),_N_E=e.O()}]);