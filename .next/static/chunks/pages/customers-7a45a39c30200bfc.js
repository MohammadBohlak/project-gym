(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{4477:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers",function(){return s(2340)}])},3193:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useLoader",{enumerable:!0,get:()=>r});let n=s(7294);function r(){let[e,t]=(0,n.useState)("hidden");return{loader:e,setLoader:t}}e.exports={useLoader:r}},8312:function(e,t,s){"use strict";s.r(t);var n=s(5893);s(7294);let r=e=>{let{visible:t,children:s}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"loader",style:{visibility:"".concat(t)}}),s]})};t.default=r},2340:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b},url:function(){return m}});var n=s(5893),r=s(9403),c=s(7294),l=s(2896),a=s(8650),u=s(7066),i=s(1716),o=s(756),d=s(1163),f=s(3193),h=s(8312);let m="https://project-gym-chi.vercel.app";function b(){let{loader:e,setLoader:t}=(0,f.useLoader)(),s=(0,d.useRouter)(),[b,j]=(0,c.useState)([]),p=()=>{t("visible"),u.Z.get("".concat(m,"/api/customers")).then(e=>{let t=e.data,s=t.reduce((e,t)=>[t,...e],[]);j(s)}).finally(()=>{t("hidden")})};(0,c.useEffect)(()=>{p()},[]);let x=e=>{let t=()=>{(0,o.V)({message:"Do you want to delete this record?",header:"Delete Confirmation",defaultFocus:"reject",acceptClassName:"p-button-danger",accept:()=>{v(e._id)},reject:()=>{}})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.z,{className:"bg-red-800 border-none outline-none",onClick:t,label:"حذف"})})},_=(0,c.useRef)(null),v=e=>{t("visible"),u.Z.delete("".concat(m,"/api/customers/").concat(e)).then(()=>{p()}).finally(()=>{t("hidden")})};return(0,n.jsxs)(h.default,{visible:e,children:[(0,n.jsx)(i.F,{ref:_}),(0,n.jsx)(o.Q,{}),(0,n.jsxs)("div",{className:"flex justify-content-between mb-5 flex-wrap",children:[(0,n.jsx)(r.z,{type:"button",label:"اضافة زبون",onClick:()=>{s.push("/customers/add-customer")}}),(0,n.jsx)(r.z,{type:"button",label:"بحث عن زبون",onClick:()=>{s.push("/customers/search-customer")}})]}),(0,n.jsx)("div",{className:"card",children:(0,n.jsxs)(l.w,{value:b,showGridlines:!0,tableStyle:{width:"100%"},children:[(0,n.jsx)(a.s,{className:"text-center",field:"name",header:"الاسم"}),(0,n.jsx)(a.s,{className:"text-center",field:"date",header:"تاريخ التسجيل"}),(0,n.jsx)(a.s,{className:"text-center",body:x,header:"تاريخ التسجيل"})]})})]})}}},function(e){e.O(0,[257,896,774,888,179],function(){return e(e.s=4477)}),_N_E=e.O()}]);