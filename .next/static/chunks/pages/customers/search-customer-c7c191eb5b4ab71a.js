(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[757],{631:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers/search-customer",function(){return s(2322)}])},3193:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useLoader",{enumerable:!0,get:()=>n});let r=s(7294);function n(){let[e,t]=(0,r.useState)("hidden");return{loader:e,setLoader:t}}e.exports={useLoader:n}},8312:function(e,t,s){"use strict";s.r(t);var r=s(5893);s(7294);let n=e=>{let{visible:t,children:s}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"loader",style:{visibility:"".concat(t)}}),s]})};t.default=n},2340:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x},url:function(){return f}});var r=s(5893),n=s(9403),a=s(7294),c=s(2896),l=s(8650),i=s(7066),u=s(1716),d=s(756),o=s(1163),m=s(3193),h=s(8312);let f="https://project-gym-chi.vercel.app";function x(){let{loader:e,setLoader:t}=(0,m.useLoader)(),s=(0,o.useRouter)(),[x,p]=(0,a.useState)([]),j=()=>{t("visible"),i.Z.get("".concat(f,"/api/customers")).then(e=>{let t=e.data,s=t.reduce((e,t)=>[t,...e],[]);p(s)}).finally(()=>{t("hidden")})};(0,a.useEffect)(()=>{j()},[]);let b=e=>{let t=()=>{(0,d.V)({message:"Do you want to delete this record?",header:"Delete Confirmation",defaultFocus:"reject",acceptClassName:"p-button-danger",accept:()=>{N(e._id)},reject:()=>{}})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.z,{className:"bg-red-800 border-none outline-none",onClick:t,label:"حذف"})})},v=(0,a.useRef)(null),N=e=>{t("visible"),i.Z.delete("".concat(f,"/api/customers/").concat(e)).then(()=>{j()}).finally(()=>{t("hidden")})};return(0,r.jsxs)(h.default,{visible:e,children:[(0,r.jsx)(u.F,{ref:v}),(0,r.jsx)(d.Q,{}),(0,r.jsxs)("div",{className:"flex justify-content-between mb-5 flex-wrap",children:[(0,r.jsx)(n.z,{type:"button",label:"اضافة زبون",onClick:()=>{s.push("/customers/add-customer")}}),(0,r.jsx)(n.z,{type:"button",label:"بحث عن زبون",onClick:()=>{s.push("/customers/search-customer")}})]}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)(c.w,{value:x,showGridlines:!0,tableStyle:{width:"100%"},children:[(0,r.jsx)(l.s,{className:"text-center",field:"name",header:"الاسم"}),(0,r.jsx)(l.s,{className:"text-center",field:"date",header:"تاريخ التسجيل"}),(0,r.jsx)(l.s,{className:"text-center",body:b,header:"تاريخ التسجيل"})]})})]})}},2322:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var r=s(5893),n=s(7066),a=s(1163),c=s(9403),l=s(8650),i=s(2896),u=s(5600),d=s(7294),o=s(2340);function m(){let[e,t]=(0,d.useState)(""),s=(0,a.useRouter)(),[m,h]=(0,d.useState)([]);(0,d.useEffect)(()=>{n.Z.get("".concat(o.url,"/api/customers")).then(e=>{h(e.data)})},[]);let f=m.filter(t=>t.name.includes(e));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"p-inputgroup flex-1 mb-2",children:[(0,r.jsx)(u.o,{className:"search-input",placeholder:"بحث",value:e,onChange:e=>{t(e.target.value)}}),(0,r.jsx)("div",{className:"rmv-input",children:(0,r.jsx)("button",{onClick:()=>{t(""),document.querySelector(".search-input").focus()},children:"+"})})]}),(0,r.jsx)(c.z,{className:"mt-15",label:"رجوع",onClick:()=>{s.push("/customers")}}),""!=e&&(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)(i.w,{className:"text-primary",value:f,showGridlines:!0,tableStyle:{width:"100%",marginBottom:"10px"},children:[(0,r.jsx)(l.s,{className:"text-primary text-center",field:"name",header:"الاسم"}),(0,r.jsx)(l.s,{className:"text-primary text-center",field:"date",header:"تاريخ التسجيل"})]})})]})}}},function(e){e.O(0,[257,896,774,888,179],function(){return e(e.s=631)}),_N_E=e.O()}]);