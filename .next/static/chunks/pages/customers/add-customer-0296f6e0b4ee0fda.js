(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[371],{3567:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers/add-customer",function(){return s(2898)}])},3193:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useLoader",{enumerable:!0,get:()=>a});let n=s(7294);function a(){let[e,t]=(0,n.useState)("hidden");return{loader:e,setLoader:t}}e.exports={useLoader:a}},8312:function(e,t,s){"use strict";s.r(t);var n=s(5893);s(7294);let a=e=>{let{visible:t,children:s}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"loader",style:{visibility:"".concat(t)}}),s]})};t.default=a},2898:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var n=s(5893),a=s(7066),l=s(9403),c=s(5600),r=s(7294),u=s(2340),i=s(1163),o=s(4182),d=s(3193),f=s(8312);function m(){let{loader:e,setLoader:t}=(0,d.useLoader)(),s=(0,i.useRouter)(),[m,h]=(0,r.useState)(""),[p,x]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),v=async e=>{e.preventDefault(),t("visible"),await a.Z.post("".concat(u.url,"/api/customers"),{name:m,date:"2025-".concat(j,"-").concat(p)}).then(()=>{h(""),document.querySelector(".name-input").focus()}).finally(()=>{t("hidden")})};return(0,n.jsxs)(f.default,{visible:e,children:[(0,n.jsxs)("form",{className:"flex flex-column mb-2",children:[(0,n.jsx)("div",{className:"p-inputgroup flex mb-2",children:(0,n.jsx)(c.o,{className:"name-input",placeholder:"الاسم",value:m,onChange:e=>{h(e.target.value)}})}),(0,n.jsxs)("div",{className:"p-inputgroup mb-2",children:[(0,n.jsx)(o.R,{className:"w-5 ml-2",useGrouping:!1,placeholder:"اليوم",value:p,onChange:e=>{x(e.value)}}),(0,n.jsx)(o.R,{className:"w-5",useGrouping:!1,placeholder:"الشهر",value:j,onChange:e=>{b(e.value)}})]}),(0,n.jsx)(l.z,{label:"إضافة",onClick:v})]}),(0,n.jsx)(l.z,{className:"mt-15",label:"رجوع",onClick:()=>{s.push("/customers")}})]})}},2340:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p},url:function(){return h}});var n=s(5893),a=s(9403),l=s(7294),c=s(2896),r=s(8650),u=s(7066),i=s(1716),o=s(756),d=s(1163),f=s(3193),m=s(8312);let h="https://project-gym-chi.vercel.app";function p(){let{loader:e,setLoader:t}=(0,f.useLoader)(),s=(0,d.useRouter)(),[p,x]=(0,l.useState)([]),j=()=>{t("visible"),u.Z.get("".concat(h,"/api/customers")).then(e=>{let t=e.data,s=t.reduce((e,t)=>[t,...e],[]);x(s)}).finally(()=>{t("hidden")})};(0,l.useEffect)(()=>{j()},[]);let b=e=>{let t=()=>{(0,o.V)({message:"Do you want to delete this record?",header:"Delete Confirmation",defaultFocus:"reject",acceptClassName:"p-button-danger",accept:()=>{N(e._id)},reject:()=>{}})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.z,{className:"bg-red-800 border-none outline-none",onClick:t,label:"حذف"})})},v=(0,l.useRef)(null),N=e=>{t("visible"),u.Z.delete("".concat(h,"/api/customers/").concat(e)).then(()=>{j()}).finally(()=>{t("hidden")})};return(0,n.jsxs)(m.default,{visible:e,children:[(0,n.jsx)(i.F,{ref:v}),(0,n.jsx)(o.Q,{}),(0,n.jsxs)("div",{className:"flex justify-content-between mb-5 flex-wrap",children:[(0,n.jsx)(a.z,{type:"button",label:"اضافة زبون",onClick:()=>{s.push("/customers/add-customer")}}),(0,n.jsx)(a.z,{type:"button",label:"بحث عن زبون",onClick:()=>{s.push("/customers/search-customer")}})]}),(0,n.jsx)("div",{className:"card",children:(0,n.jsxs)(c.w,{value:p,showGridlines:!0,tableStyle:{width:"100%"},children:[(0,n.jsx)(r.s,{className:"text-center",field:"name",header:"الاسم"}),(0,n.jsx)(r.s,{className:"text-center",field:"date",header:"تاريخ التسجيل"}),(0,n.jsx)(r.s,{className:"text-center",body:b,header:"تاريخ التسجيل"})]})})]})}}},function(e){e.O(0,[257,896,774,888,179],function(){return e(e.s=3567)}),_N_E=e.O()}]);