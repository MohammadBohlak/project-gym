(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[371],{7322:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers/add-customer",function(){return s(9389)}])},9389:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(4246),n=s(7833),c=s(2556),l=s(4546),r=s(7378),u=s(969),o=s(6677);function i(){let e=(0,o.useRouter)(),[t,s]=(0,r.useState)(""),[i,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),p=async e=>{e.preventDefault(),await n.Z.post("".concat(u.url,"/api/customers"),{name:t,date:"2024-".concat(m,"-").concat(i)}).then(()=>{s("")})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("form",{className:"flex flex-column mb-2",children:[(0,a.jsx)("div",{className:"p-inputgroup flex mb-2",children:(0,a.jsx)(l.o,{placeholder:"الاسم",value:t,onChange:e=>{s(e.target.value)}})}),(0,a.jsxs)("div",{className:"p-inputgroup mb-2",children:[(0,a.jsx)(l.o,{className:"w-5 ml-2",placeholder:"اليوم",value:i,onChange:e=>{d(e.target.value)}}),(0,a.jsx)(l.o,{className:"w-5",placeholder:"الشهر",value:m,onChange:e=>{h(e.target.value)}})]}),(0,a.jsx)(c.z,{label:"إضافة",onClick:p})]}),(0,a.jsx)(c.z,{className:"mt-15",label:"رجوع",onClick:()=>{e.push("/customers")}})]})}},969:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h},url:function(){return m}});var a=s(4246),n=s(2556),c=s(7378),l=s(4285),r=s(213),u=s(7833),o=s(1249),i=s(8436),d=s(6677);let m="https://project-gym-chi.vercel.app";function h(){let e=(0,d.useRouter)(),[t,s]=(0,c.useState)(""),[h,p]=(0,c.useState)([]),f=()=>{u.Z.get("".concat(m,"/api/customers")).then(e=>{p(e.data)})};(0,c.useEffect)(()=>{f()},[]);let x=e=>{let t=()=>{(0,i.V)({message:"Do you want to delete this record?",header:"Delete Confirmation",defaultFocus:"reject",acceptClassName:"p-button-danger",accept:()=>{b(e._id)},reject:()=>{}})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.z,{className:"bg-red-800 border-none outline-none",onClick:t,label:"حذف"})})},j=(0,c.useRef)(null),b=e=>{console.log("accept",e),u.Z.delete("".concat(m,"/api/customers/").concat(e)).then(()=>{f()})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.F,{ref:j}),(0,a.jsx)(i.Q,{}),(0,a.jsxs)("div",{className:"flex justify-content-between mb-5 flex-wrap",children:[(0,a.jsx)(n.z,{type:"button",label:"اضافة زبون",onClick:()=>{e.push("/customers/add-customer")}}),(0,a.jsx)(n.z,{type:"button",label:"بحث عن زبون",onClick:()=>{e.push("/customers/search-customer")}})]}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)(l.w,{value:h,showGridlines:!0,tableStyle:{width:"100%"},children:[(0,a.jsx)(r.s,{className:"text-center",field:"name",header:"الاسم"}),(0,a.jsx)(r.s,{className:"text-center",field:"date",header:"تاريخ التسجيل"}),(0,a.jsx)(r.s,{className:"text-center",body:x,header:"تاريخ التسجيل"})]})})]})}}},function(e){e.O(0,[250,338,774,888,179],function(){return e(e.s=7322)}),_N_E=e.O()}]);