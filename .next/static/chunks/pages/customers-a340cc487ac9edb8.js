(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{5169:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers",function(){return a(969)}])},969:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var s=a(4246),l=a(4546),n=a(2556),c=a(7378),r=a(4285),o=a(213),i=a(7833),u=a(1249),d=a(8436);let m="https://project-gym-chi.vercel.app";function h(){let[e,t]=(0,c.useState)(""),[a,h]=(0,c.useState)(""),[x,p]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),[j,N]=(0,c.useState)([]),[v,w]=(0,c.useState)(""),b=async t=>{t.preventDefault(),await i.Z.post("".concat(m,"/api/customers"),{name:e,date:"2024-".concat(x,"-").concat(a)}).then(()=>{_()})},_=()=>{i.Z.get("".concat(m,"/api/customers")).then(e=>{N(e.data)})};(0,c.useEffect)(()=>{_()},[]);let C=e=>{let t=()=>{(0,d.V)({message:"Do you want to delete this record?",header:"Delete Confirmation",defaultFocus:"reject",acceptClassName:"p-button-danger",accept:()=>{E(e._id)},reject:()=>{}})};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.z,{className:"bg-red-800 border-none outline-none",onClick:t,label:"حذف"})})},y=new Date("2024-10-4");console.log(y.getDate()),console.log(y.getMonth()+1),console.log(y.getFullYear());let S=j.filter(e=>e.name.includes(v));console.log(S);let k=(0,c.useRef)(null),E=e=>{console.log("accept",e),i.Z.delete("".concat(m,"/api/customers/").concat(e)).then(()=>{_()})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.F,{ref:k}),(0,s.jsx)(d.Q,{}),(0,s.jsxs)("form",{className:"flex flex-column mb-2",children:[(0,s.jsx)("div",{className:"p-inputgroup flex mb-2",children:(0,s.jsx)(l.o,{placeholder:"الاسم",value:e,onChange:e=>{t(e.target.value)}})}),(0,s.jsxs)("div",{className:"p-inputgroup mb-2",children:[(0,s.jsx)(l.o,{className:"w-5 ml-2",placeholder:"اليوم",value:a,onChange:e=>{h(e.target.value)}}),(0,s.jsx)(l.o,{className:"w-5",placeholder:"الشهر",value:x,onChange:e=>{p(e.target.value)}})]}),(0,s.jsx)(n.z,{label:"إضافة",onClick:b})]}),(0,s.jsx)("div",{className:"p-inputgroup flex-1 mb-2",children:(0,s.jsx)(l.o,{placeholder:"بحث",value:v,onChange:e=>{w(e.target.value)}})}),""!=v&&(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)(r.w,{className:"text-primary",value:S,showGridlines:!0,tableStyle:{width:"100%",marginBottom:"10px"},children:[(0,s.jsx)(o.s,{className:"text-primary text-center",field:"name",header:"الاسم"}),(0,s.jsx)(o.s,{className:"text-primary text-center",field:"date",header:"تاريخ التسجيل"})]})}),(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)(r.w,{value:j,showGridlines:!0,tableStyle:{width:"100%"},children:[(0,s.jsx)(o.s,{className:"text-center",field:"name",header:"الاسم"}),(0,s.jsx)(o.s,{className:"text-center",field:"date",header:"تاريخ التسجيل"}),(0,s.jsx)(o.s,{className:"text-center",body:C,header:"تاريخ التسجيل"})]})})]})}}},function(e){e.O(0,[250,174,774,888,179],function(){return e(e.s=5169)}),_N_E=e.O()}]);